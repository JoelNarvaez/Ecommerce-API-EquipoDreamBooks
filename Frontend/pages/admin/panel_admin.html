<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>DreamBook | Panel de Administración</title>
     <link rel="shortcut icon" href="/Frontend/imagenes/favicon-sf.png" type="image/x-icon">

    <!-- CSS PRINCIPALES -->
    <link rel="stylesheet" href="/Frontend/css/estilos_admin/reset.css" />
    <link rel="stylesheet" href="/Frontend/css/estilos_admin/layout.css" />
    <link rel="stylesheet" href="/Frontend/css/estilos_admin/sidebar.css" />
    <link rel="stylesheet" href="/Frontend/css/estilos_admin/main.css" />
    <link rel="stylesheet" href="/Frontend/css/estilos_admin/content.css" />
    <link rel="stylesheet" href="/Frontend/css/estilos_admin/productos.css" />
    <link rel="stylesheet" href="/Frontend/css/estilos_admin/oferta.css" />
    <link rel="stylesheet" href="/Frontend/css/estilos_admin/botones.css" />
    <link rel="stylesheet" href="/Frontend/css/estilos_admin/modal.css" />
    <link rel="stylesheet" href="/Frontend/css/estilos_admin/user.css" />
    <link rel="stylesheet" href="/Frontend/css/estilos_admin/responsive.css" />
    <link rel="stylesheet" href="/Frontend/css/estilos_admin/estadisticas.css" />

    <!-- Íconos Bootstrap -->
    <link
      rel="stylesheet"
      href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    />
  </head>

  <body>
    <div class="container">
      <!-- ===========================================
         SIDEBAR
    ============================================== -->
      <aside class="sidebar">
        <div class="sidebar-header">
          <h2 class="logo">DreamBook</h2>
          <button class="toggle-btn" id="toggleBtn">
            <i class="bi bi-list"></i>
          </button>
        </div>

        <nav class="sidebar-nav">
          <ul class="nav-list">
            <li class="nav-item active">
              <a class="nav-link" data-section="dashboard">
                <i class="bi bi-speedometer2"></i>
                <span class="nav-text">Panel</span>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" data-section="products">
                <i class="bi bi-box-seam"></i>
                <span class="nav-text">Libros</span>
              </a>
            </li>

            <li class="nav-item">
              <a class="nav-link" data-section="analytics">
                <i class="bi bi-graph-up"></i>
                <span class="nav-text">Gráficas</span>
              </a>
            </li>
          </ul>
        </nav>

        <div class="sidebar-footer">
          <a class="nav-link" data-section="profile">
            <i class="bi bi-person-circle"></i>
          </a>
        </div>
      </aside>

      <!-- ===========================================
         MAIN CONTENT
    ============================================== -->
      <main class="main-content">
        <!-- ENCABEZADO -->
        <header class="header">
          <div class="header-left">
            <h1 id="pageTitle">Panel</h1>
          </div>

          <div class="header-right">
            <div class="user-menu">
              <button class="user-btn">
                <i class="bi bi-person-circle" style="font-size: 35px"></i>
                <span>Administrador</span>
              </button>

              <div class="dropdown-menu">
                <a href="#"
                  ><i class="bi bi-box-arrow-right"></i> Cerrar sesión</a
                >
              </div>
            </div>
          </div>
        </header>

        <!-- ===========================================
             SECCIONES
        ============================================== -->
        <div class="content">
          <!-- PANEL -->
<section id="dashboard" class="section active">
    <div class="stats-grid">

        <div class="stat-card">
            <div class="stat-icon"><i class="bi bi-cart3"></i></div>
            <div class="stat-content">
                <h3>Pedidos totales</h3>
            </div>
        </div>

        <div class="stat-card">
            <div class="stat-icon"><i class="bi bi-cash-coin"></i></div>
            <div class="stat-content">
                <h3>Ingresos</h3>
            </div>
        </div>

        <!-- ✔ SOLO ESTE TIENE FLECHA Y ID -->
        <div class="stat-card" id="stat-libros">
            <div class="stat-icon"><i class="bi bi-box"></i></div>
            <div class="stat-content">
                <h3>Libros</h3>
            </div>

            <!-- FLECHA DE DESPLIEGUE -->
            <i class="bi bi-chevron-down stat-arrow"></i>
        </div>

    </div>


    <!-- ✅ AQUÍ PONEMOS EL REPORTE -->
    <div id="dashboard-report" class="hidden">
        <h2>Reporte de existencias por categoría</h2>

        <div class="category-card">
            <div class="category-icon category-romance">
                <i class="bi bi-heart-fill"></i>
            </div>
            <div class="category-label">Romance:</div>
            <span id="stock-romance">0</span>
        </div>

        <div class="category-card">
            <div class="category-icon category-scifi">
                <i class="bi bi-rocket-fill"></i>
            </div>
            <div class="category-label">Ciencia ficción:</div> 
            <span id="stock-scifi">0</span>
        </div>

        <div class="category-card">
            <div class="category-icon category-infantil">
                <i class="bi bi-emoji-smile-fill"></i>
            </div>
            <div class="category-label">Infantil:</div>
            <span id="stock-infantil">0</span>
        </div>
    </div>
</section>

          </section>

          <!-- GRÁFICAS -->
          <section id="analytics" class="section">
            <div class="card">
              <div class="card-header"><h2>Gráficas</h2></div>
              <p style="padding: 20px; color: #666">
                No hay datos disponibles.
              </p>
            </div>
          </section>

          <!-- ===========================================
                 LIBROS
            ============================================== -->
          <section id="products" class="section">
            <div class="card">
              <div class="card-header">
                <h2>Gestión de libros</h2>

                <div class="actions-header">
                  <div class="search-box">
                    <div class="search-group">
                      <input
                        type="text"
                        placeholder="Buscar..."
                        id="search-books"
                      />
                      <i class="bi bi-search search-icon"></i>
                    </div>

                    <!-- SELECT DE CATEGORÍAS -->
                    <select id="filter-category" class="filter-select">
                      <option value="">Todas</option>
                      <option value="Romance">Romance</option>
                      <option value="Infantil">Infantil</option>
                      <option value="Ciencia ficción">Ciencia ficción</option>
                      <option value="oferta">Oferta</option>
                    </select>
                  </div>

                  <button id="open-add-book" class="btn btn-primary">
                    <i class="bi bi-plus-circle"></i> Agregar libro
                  </button>
                </div>
              </div>

              <!-- GRID DE LIBROS -->
              <div class="products-grid" id="books-grid">
                <p style="color: #666">No hay libros registrados.</p>
              </div>

              <!-- PAGINACIÓN -->
              <div
                id="pagination"
                style="text-align: center; padding: 20px"
              ></div>
            </div>
          </section>

          <!-- PERFIL -->
          <section id="profile" class="section">
            <div class="card">
              <div class="card-header"><h2>Perfil</h2></div>
              <p style="padding: 20px; color: #666">
                El perfil está deshabilitado.
              </p>
            </div>
          </section>
        </div>
      </main>
    </div>

   <!-- MODAL PARA AGREGAR LIBRO -->
<div id="modal-add-book" class="modal hidden">
  <div class="modal-content modal-wide">
    <button class="modal-close" id="close-add-book">&times;</button>
    <h2>Agregar libro</h2>

    <div class="form-preview-wrapper">

      <!-- FORMULARIO -->
      <div class="settings-form">
        
        <div class="form-group">
          <label>Título</label>
          <input id="modal-title" type="text" placeholder="Peppa Pig" required />
        </div>

        <div class="form-group">
          <label>Autor</label>
          <input id="modal-author" type="text" placeholder="Juan Perez" required />
        </div>

        <div class="form-group">
          <label>Precio</label>
          <input id="modal-price" type="number" step="0.01" placeholder="Ej. 270" required />
        </div>

        <div class="form-group">
          <label>Categoría</label>
          <input id="modal-category" type="text" placeholder="Ej. Romance" required />
        </div>

        <div class="form-group">
          <label>Stock</label>
          <input id="modal-stock" type="number" min="0" placeholder="7" required />
        </div>

        <!-- NUEVOS CAMPOS -->
        <div class="form-group">
          <label>Editorial</label>
          <input id="modal-editorial" type="text" placeholder="Ej. Alfaguara" />
        </div>

        <div class="form-group">
          <label>Tipo de libro</label>
          <input id="modal-tipo" type="text" placeholder="Ej. Tapa blanda / Pasta dura / Ebook" />
        </div>

        <div class="form-group">
          <label>Número de páginas</label>
          <input id="modal-paginas" type="number" placeholder="Ej. 240" />
        </div>

        <div class="form-group">
          <label>Descripción</label>
          <textarea id="modal-desc" placeholder="Descripción del libro..." required></textarea>
        </div>

        <div class="form-group">
          <label>Imagen</label>
          <input id="modal-image" type="file" accept="image/*" required />
        </div>

        <button id="modal-save" class="btn btn-primary">
          <i class="bi bi-check2-circle"></i> Guardar libro
        </button>
      </div>

      <!-- VISTA PREVIA -->
      <div class="preview-container">
        <h3>Vista previa</h3>

        <div class="preview-card">
          <div class="preview-img">
            <img id="preview-image" src="/Frontend/assets/no-image.png" alt="Vista previa" />
          </div>

          <div class="preview-info">
            <h4 id="preview-title">Título del libro</h4>

            <p class="preview-category" id="preview-category">Categoría</p>
            <p class="preview-author" id="preview-author">Autor</p>
            <p class="preview-price" id="preview-price">$0.00</p>

            <p class="preview-editorial" id="preview-editorial">Editorial</p>
            <p class="preview-tipo" id="preview-tipo">Tipo de libro</p>
            <p class="preview-paginas" id="preview-paginas">0 páginas</p>

            <p class="preview-stock" id="preview-stock">En existencia (0)</p>

            <p class="preview-desc" id="preview-desc">Descripción del libro...</p>
          </div>
        </div>
      </div>

    </div>
  </div>
</div> 
<!-- ==============================
      MODAL ELIMINAR LIBRO/STOCK
============================== -->
<div id="modal-eliminar" class="modal hidden">
  <div class="modal-content modal-wide">
    <button class="modal-close" id="close-delete-modal">&times;</button>
    <h2>Eliminar libro</h2>

    <div class="form-preview-wrapper">
      
      <!-- ==========================
           VISTA PREVIA DEL LIBRO
      =========================== -->
      <div class="preview-container">
        <h3>Vista previa</h3>

        <div class="preview-card delete-preview-card">
          
          <!-- Imagen -->
          <div class="preview-img">
            <img id="delete-book-image" src="/Frontend/assets/no-image.png" alt="Vista previa" />
          </div>

          <!-- Información -->
          <div class="preview-info">
            <h4 id="delete-book-title" class="preview-title">Título del libro</h4>

            <p class="preview-category" id="delete-book-category">Categoría</p>

            <p class="preview-author" id="delete-book-author">Autor</p>

            <p class="preview-price" id="delete-book-price">$0.00</p>

            <p class="preview-stock" id="delete-book-stock">En existencia (0)</p>

            <!-- NUEVOS CAMPOS -->
            <p class="preview-editorial" id="delete-book-editorial">
              <strong>Editorial:</strong> -
            </p>

            <p class="preview-tipo" id="delete-book-tipo">
              <strong>Tipo:</strong> -
            </p>

            <p class="preview-paginas" id="delete-book-paginas">
              <strong>Páginas:</strong> -
            </p>
          </div>
        </div>
      </div>

      <!-- ==========================
           CONTROLES DE ELIMINACIÓN
      =========================== -->
      <div class="settings-form">

        <div class="form-group">
          <label>Cantidad a eliminar</label>
          <input
            type="number"
            id="cantidad-eliminar"
            min="1"
            class="input"
            placeholder="Ej. 2"
          />
        </div>

        <div class="delete-actions">

          <button id="btn-confirm-delete" class="btn btn-danger">
            <i class="bi bi-dash-circle"></i> Eliminar stock
          </button>

          <button id="btn-delete-total" class="btn btn-dark">
            <i class="bi bi-trash"></i> Eliminar libro
          </button>

        </div>
      </div>
    </div>
  </div>
</div>


 <!-- ==============================
      MODAL EDITAR LIBRO
============================== -->
<div id="modal-editar" class="modal hidden">
  <div class="modal-content modal-wide">
    <button class="modal-close" id="close-edit-modal">&times;</button>
    <h2>Editar libro</h2>

    <div class="form-preview-wrapper">

      <!-- FORMULARIO -->
      <div class="settings-form">

        <div class="form-group">
          <label>Título</label>
          <input id="edit-title" type="text" />
        </div>

        <div class="form-group">
          <label>Autor</label>
          <input id="edit-author" type="text" />
        </div>

        <div class="form-group">
          <label>Precio</label>
          <input id="edit-price" type="number" step="0.01" />
        </div>

        <div class="form-group">
          <label>Categoría</label>
          <input id="edit-category" type="text" />
        </div>

        <div class="form-group">
          <label>Stock</label>
          <input id="edit-stock" type="number" />
        </div>

        <!-- NUEVOS CAMPOS -->
        <div class="form-group">
          <label>Editorial</label>
          <input id="edit-editorial" type="text" />
        </div>

        <div class="form-group">
          <label>Tipo de libro</label>
          <input id="edit-tipo" type="text" />
        </div>

        <div class="form-group">
          <label>Número de páginas</label>
          <input id="edit-paginas" type="number" />
        </div>

        <div class="form-group">
          <label>Descripción</label>
          <textarea id="edit-desc"></textarea>
        </div>

        <div class="form-group">
          <label>Nueva imagen (opcional)</label>
          <input id="edit-image" type="file" accept="image/*" />
        </div>

        <button id="btn-save-edit" class="btn btn-primary">
          <i class="bi bi-save"></i> Guardar cambios
        </button>

      </div>

      <!-- PREVIEW -->
      <div class="preview-container">
        <h3>Vista previa</h3>

        <div class="preview-card">
          <div class="preview-img">
            <img id="edit-preview-image" src="/Frontend/assets/no-image.png" alt="Vista previa" />
          </div>

          <div class="preview-info">
            <h4 id="edit-preview-title">Título del libro</h4>

            <p class="preview-category" id="edit-preview-category">Categoría</p>
            <p class="preview-author" id="edit-preview-author">Autor</p>
            <p class="preview-price" id="edit-preview-price">$0.00</p>

            <p class="preview-editorial" id="edit-preview-editorial">Editorial</p>
            <p class="preview-tipo" id="edit-preview-tipo">Tipo de libro</p>
            <p class="preview-paginas" id="edit-preview-paginas">0 páginas</p>

            <p class="preview-stock" id="edit-preview-stock">En existencia (0)</p>
          </div>
        </div>

      </div>
    </div>
  </div>
</div>

<script src="/Frontend/js/admin/reportes.js"></script>
<script src="/Frontend/js/admin/admin.js"></script>
<script src="/Frontend/js/admin/consultar.js"></script>
<script src="/Frontend/js/admin/vistaPrevia.js"></script>
<script src="/Frontend/js/admin/agregarLibro.js"></script>
<script src="/Frontend/js/admin/eliminar.js"></script>
<script src="/Frontend/js/admin/editar.js"></script>

  </body>
</html>
